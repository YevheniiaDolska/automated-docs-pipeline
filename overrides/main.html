{%- extends "base.html" -%}

{% block content %}

  {# Automatic lifecycle banners based on frontmatter #}
  {% if page and page.meta %}
    {% if page.meta.maturity == 'deprecated' %}
      <div class="admonition warning">
        <p class="admonition-title">âš ï¸ Deprecated</p>
        <p>This feature is deprecated{% if page.meta.deprecated_since %} since {{ page.meta.deprecated_since }}{% endif %}.</p>
        {% if page.meta.replaced_by %}
          <p>Please use <a href="{{ page.meta.replaced_by }}">the replacement feature</a> instead.</p>
        {% endif %}
        {% if page.meta.sunset_date %}
          <p>This will be removed on {{ page.meta.sunset_date }}.</p>
        {% endif %}
      </div>
    {% elif page.meta.maturity == 'preview' %}
      <div class="admonition info">
        <p class="admonition-title">ğŸ”¬ Preview Feature</p>
        <p>This feature is in preview and may change without notice.</p>
      </div>
    {% elif page.meta.maturity == 'beta' %}
      <div class="admonition info">
        <p class="admonition-title">ğŸ§ª Beta Feature</p>
        <p>This feature is in beta. APIs and functionality may change before general availability.</p>
      </div>
    {% endif %}
  {% endif %}

  {# Original content #}
  {{ super() }}

{% endblock %}

{% block htmltitle %}
  {# Add lifecycle state to page title #}
  {% if page and page.meta %}
    {% if page.meta.maturity == 'deprecated' %}
      <title>[Deprecated] {{ page.title }} - {{ config.site_name }}</title>
    {% elif page.meta.maturity == 'preview' %}
      <title>[Preview] {{ page.title }} - {{ config.site_name }}</title>
    {% else %}
      {{ super() }}
    {% endif %}
  {% else %}
    {{ super() }}
  {% endif %}
{% endblock %}